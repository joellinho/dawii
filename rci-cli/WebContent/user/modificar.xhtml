<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    > 
    
<h:head>
</h:head>

<h:body> 
   	<ui:composition template="/template/layout.xhtml">
 		<ui:define name="content">
 		

		<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
 		
 		<h:form id="frmModificar">
  			<p:panelGrid style="margin-top:20px">   
 				<f:facet name="header">
 					<p:row>  
            			<p:column colspan="2">Cuenta de Usuario</p:column>  
       				</p:row>       				
 				</f:facet>
 				
 				<p:row>  
        			<p:column colspan="2" >	  
            			Modifica tus datos.
        			</p:column>  
    			</p:row>
 				
 				
 				<!-- Datos de Personales -->
 				
 				<p:row>  
        			<p:column colspan="2" styleClass="ui-widget-header">	  
            			Datos Personales
        			</p:column>  
    			</p:row>  
 				
 				<p:row>
	 				<p:column>  
	 					Apellido
	 				</p:column>
	 				<p:column> 
	 					<p:inputText id="txtApellido" value="#{loginManaged.clienteLogeado.apellido}" />
	 				</p:column>   
 				</p:row>
 			
 				<p:row>
	 				<p:column>  
	 					Nombre
	 				</p:column>
	 				<p:column> 
	 					<p:inputText id="txtNombre" value="#{loginManaged.clienteLogeado.nombre}"/> 
	 				</p:column>   
 				</p:row>								
				 				 				
				<p:row>
	 				<p:column>  
	 					Correo Electronico
	 				</p:column>
	 					 				
	 				<p:column>
	 					<h:outputLabel for="txtEmail" value="#{loginManaged.clienteLogeado.email}"/> 
	 				</p:column>   
 				</p:row>		
 			
 					
 			
 				
 			    <p:row>
	 				<p:column>  
	 					Tipo de Documento de Identidad
	 				</p:column>
	 				<p:column> 
	 					<p:selectOneMenu id="cboTipoDocumento" value="#{loginManaged.clienteLogeado.tipodocumento}">
	                	<f:selectItems value="#{registrarseManaged.listaTipoDoc}" 
	                				   var="tipoDoc"
	                				   itemLabel="#{tipoDoc.descripcion}"                				   
	                	/>  
                	<f:converter converterId="tipoDocumentoConverter" />
            	</p:selectOneMenu>
	 				</p:column>   
 				</p:row>		
 			    	
 			    <p:row>
	 				<p:column>  
	 					Número Documento de Identidad
	 				</p:column>
	 				<p:column> 
	 					<p:inputText id="txtNumeroDocumentoIdentidad" value="#{loginManaged.clienteLogeado.numeroDocumentoIdentidad}"/>
	 				</p:column>   
 				</p:row>	
 								
 				 <p:row>
	 				<p:column>  
	 					Celular
	 				</p:column>
	 				<p:column> 
	 					<p:keyboard id="txtTelefonoCelular" value="#{loginManaged.clienteLogeado.telefonoCelular}" keypadOnly="true"/>
	 				</p:column>   
 				</p:row>	
 				
 				<p:row>
	 				<p:column>  
	 					Telefono
	 				</p:column>
	 				<p:column> 
	 					<p:inputText id="txtTelefonoPrincipal" value="#{loginManaged.clienteLogeado.telefonoPrincipal}"/>
	 				</p:column>   
 				</p:row> 				
 				
 				<!-- Direccion Usual-->
 				
			 	<p:row>  
        			<p:column colspan="2" styleClass="ui-widget-header">	  
            			Dirección Frecuente
        			</p:column>  
    			</p:row>  
 				
 				<!-- Ubigeo -->		
    			<p:row>
					<p:column>
						Departamento	  
					</p:column>  
        			<p:column>	  
            			<p:selectOneMenu id="cboUbiDepa" value="#{loginManaged.ubigeoManaged.ubiDepaSelect}">
            			<f:selectItem itemLabel="Seleccionar" itemValue="" />  
	                		<f:selectItems value="#{loginManaged.ubigeoManaged.listaUbiDepa}" 
	                				   var="ubiDepa"
	                				   itemLabel="#{ubiDepa.udnombre}"                				   
	                		/>  
	                		
	                		<p:ajax update="cboUbiProv"  
                        		listener="#{loginManaged.ubigeoManaged.handleDepaChange}" />  
	                		<f:converter converterId="ubigeoDepaConverter" />
            			</p:selectOneMenu>
        			</p:column>
    			</p:row>
    			
    			<p:row>
					<p:column>
						Provincia	  
					</p:column>  
        			<p:column>	  
            			<p:selectOneMenu id="cboUbiProv" value="#{loginManaged.ubigeoManaged.ubiProvSelect}">
            				<f:selectItem itemLabel="Seleccionar" itemValue="" />  
	                		<f:selectItems value="#{loginManaged.ubigeoManaged.listaUbiProv}" 
	                				   var="ubiProv"
	                				   itemLabel="#{ubiProv.upnombre}"                				   
	                		/>  
	                		<p:ajax update="cboUbiDist"  
                        		listener="#{loginManaged.ubigeoManaged.handleProvChange}" />  
	                		<f:converter converterId="ubigeoProvConverter" />
            			</p:selectOneMenu>
        			</p:column>
    			</p:row>
    			
    			<p:row>
					<p:column>
						Distrito	  
					</p:column>  
        			<p:column>	  
            			<p:selectOneMenu id="cboUbiDist" value="#{loginManaged.ubigeoManaged.ubiDistSelect}">
            				<f:selectItem itemLabel="Seleccionar" itemValue="" />  
	                		<f:selectItems value="#{loginManaged.ubigeoManaged.listaUbiDist}" 
	                				   var="ubiDist"
	                				   itemLabel="#{ubiDist.udinombre}"                				   
	                		/>
	                		<p:ajax 	                			
                        		listener="#{loginManaged.ubigeoManaged.handleDistChange}" />  
	                		<f:converter converterId="ubigeoDistConverter" />
            			</p:selectOneMenu>
        			</p:column>
    			</p:row>
    			
    			<!-- Dirección -->
    			
    			<p:row>  
        			<p:column>	
        				Dirección Destino:		  
        			</p:column>
        			<p:column>	
        				  <p:inputText id="txtDireccion" value="#{loginManaged.clienteLogeado.direccion}" />
        			</p:column>
       			</p:row>	
       			
    			<p:row>
	 				<p:column colspan="2">  
	 					<p:commandButton id="btnModificar" value="Modificar" ajax="false" action="#{loginManaged.modificar}"/>
	 				</p:column>

 				</p:row>			 	    
 			</p:panelGrid>
 		</h:form>
  	

	
</ui:define>
    	</ui:composition> 
    </h:body>
 
</html>